{% extends "base.html" %}

{% block title %}{% if object %}Edit Book{% else %}Add Book{% endif %}{% endblock %}

{% block content %}
<a href="{% url 'library:staff_book_list' %}" class="back-link">Back to books</a>

<div class="page-header">
    <h1>{% if object %}Edit Book: {{ object.title }}{% else %}Add Book{% endif %}</h1>
</div>

<div class="form-card">
    <form method="post">
        {% csrf_token %}
        {% if form.non_field_errors %}
        <div class="errors">
            {% for error in form.non_field_errors %}
            <p style="margin:0">{{ error }}</p>
            {% endfor %}
        </div>
        {% endif %}
        <table>
            {{ form.as_table }}
        </table>
        <div style="display:flex; gap:0.75rem; margin-top:1rem; align-items:center;">
            <button type="submit">{% if object %}Update Book{% else %}Add Book{% endif %}</button>
            <a href="{% url 'library:staff_book_list' %}" class="btn btn-ghost">Cancel</a>
        </div>
    </form>
</div>
{% endblock %}
